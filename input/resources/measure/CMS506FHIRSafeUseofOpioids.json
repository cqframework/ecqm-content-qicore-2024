{
  "resourceType": "Measure",
  "id": "CMS506FHIRSafeUseofOpioids",
  "meta": {
    "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm", "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/publishable-measure-cqfm", "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/executable-measure-cqfm" ]
  },
  "contained": [ {
    "resourceType": "Library",
    "id": "effective-data-requirements",
    "extension": [ {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://hl7.org/fhir/administrative-gender",
        "code": "M",
        "display": "Male"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://hl7.org/fhir/administrative-gender",
        "code": "F",
        "display": "Female"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
        "code": "community",
        "display": "Community"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
        "code": "discharge",
        "display": "Discharge"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://terminology.hl7.org/CodeSystem/condition-category",
        "code": "problem-list-item",
        "display": "Problem List Item"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://hl7.org/fhir/us/core/CodeSystem/condition-category",
        "code": "health-concern",
        "display": "Health Concern"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElements"
      }, {
        "url": "name",
        "valueString": "SDE Sex"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Sex\":\n  case\n    when Patient.gender = 'male' then \"M\"\n    when Patient.gender = 'female' then \"F\"\n    else null\n  end"
      }, {
        "url": "displaySequence",
        "valueInteger": 0
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "SDE Sex"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Sex\":\n  SDE.\"SDE Sex\""
      }, {
        "url": "displaySequence",
        "valueInteger": 1
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CQMCommon"
      }, {
        "url": "name",
        "valueString": "Inpatient Encounter"
      }, {
        "url": "statement",
        "valueString": "define \"Inpatient Encounter\":\n  [Encounter: \"Encounter Inpatient\"] EncounterInpatient\n\t\twhere EncounterInpatient.status = 'finished'\n\t\tand EncounterInpatient.period ends during day of \"Measurement Period\""
      }, {
        "url": "displaySequence",
        "valueInteger": 2
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Inpatient Encounter with Age Greater than or Equal to 18"
      }, {
        "url": "statement",
        "valueString": "define \"Inpatient Encounter with Age Greater than or Equal to 18\":\n  CQMCommon.\"Inpatient Encounter\" InpatientHospitalEncounter\n    where AgeInYearsAt(date from start of InpatientHospitalEncounter.period) >= 18"
      }, {
        "url": "displaySequence",
        "valueInteger": 3
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Opioid at Discharge"
      }, {
        "url": "statement",
        "valueString": "define \"Opioid at Discharge\":\n  ( [\"MedicationRequest\": \"Schedule II, III and IV Opioid Medications\"] OpioidMedications\n    where ( OpioidMedications.isCommunity ( )\n        or OpioidMedications.isDischarge ( )\n    ) ) OpioidDischargeMedication\n    where OpioidDischargeMedication.status in { 'active', 'completed' }\n      and OpioidDischargeMedication.intent = 'order'"
      }, {
        "url": "displaySequence",
        "valueInteger": 4
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Benzodiazepine at Discharge"
      }, {
        "url": "statement",
        "valueString": "define \"Benzodiazepine at Discharge\":\n  ( [\"MedicationRequest\": medication in \"Schedule IV Benzodiazepines\"] BenzoMedications\n    where ( BenzoMedications.isCommunity ( )\n        or BenzoMedications.isDischarge ( )\n    ) ) BenzodiazepineDischargeMedication\n    where BenzodiazepineDischargeMedication.status in { 'active', 'completed' }\n      and BenzodiazepineDischargeMedication.intent = 'order'"
      }, {
        "url": "displaySequence",
        "valueInteger": 5
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Inpatient Encounters with an Opioid or Benzodiazepine at Discharge"
      }, {
        "url": "statement",
        "valueString": "define \"Inpatient Encounters with an Opioid or Benzodiazepine at Discharge\":\n/*Captures encounters of patients with an opioid and/or benzodiazepine at discharge*/\n  \n  \"Inpatient Encounter with Age Greater than or Equal to 18\" InpatientEncounter\n    with ( \"Opioid at Discharge\"\n      union \"Benzodiazepine at Discharge\" ) OpioidOrBenzodiazepineAtDischarge\n      such that OpioidOrBenzodiazepineAtDischarge.authoredOn during day of InpatientEncounter.period"
      }, {
        "url": "displaySequence",
        "valueInteger": 6
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Numerator"
      }, {
        "url": "statement",
        "valueString": "define \"Numerator\":\n  /*Encounters of patients prescribed two or more opioids or an opioid and benzodiazepine at discharge.*/\n  \n  ( ( \"Inpatient Encounters with an Opioid or Benzodiazepine at Discharge\" InpatientEncounter\n        where ( Count(\"Opioid at Discharge\" OpioidMedications\n              where OpioidMedications.authoredOn during day of InpatientEncounter.period\n              return distinct OpioidMedications.medication\n          ) >= 2\n        )\n          or exists ( \"Opioid at Discharge\" OpioidDischargeMedications\n              where OpioidDischargeMedications.authoredOn during day of InpatientEncounter.period\n                and exists \"Benzodiazepine at Discharge\" BenzodiazepineDischargeMedication\n                  where BenzodiazepineDischargeMedication.authoredOn during day of InpatientEncounter.period\n          )\n    )\n  )"
      }, {
        "url": "displaySequence",
        "valueInteger": 7
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Initial Population"
      }, {
        "url": "statement",
        "valueString": "define \"Initial Population\":\n  \"Inpatient Encounters with an Opioid or Benzodiazepine at Discharge\""
      }, {
        "url": "displaySequence",
        "valueInteger": 8
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Denominator"
      }, {
        "url": "statement",
        "valueString": "define \"Denominator\":\n  \"Initial Population\""
      }, {
        "url": "displaySequence",
        "valueInteger": 9
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElements"
      }, {
        "url": "name",
        "valueString": "SDE Payer"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Payer\":\n  [Coverage: type in \"Payer Type\"] Payer\n    return {\n      code: Payer.type,\n      period: Payer.period\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 10
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "SDE Payer"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Payer\":\n  SDE.\"SDE Payer\""
      }, {
        "url": "displaySequence",
        "valueInteger": 11
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElements"
      }, {
        "url": "name",
        "valueString": "SDE Ethnicity"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Ethnicity\":\n  Patient.ethnicity E\n    return Tuple {\n      codes: { E.ombCategory } union E.detailed,\n      display: E.text\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 12
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "SDE Ethnicity"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Ethnicity\":\n  SDE.\"SDE Ethnicity\""
      }, {
        "url": "displaySequence",
        "valueInteger": 13
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Treatment for Opioid Use Disorders"
      }, {
        "url": "statement",
        "valueString": "define \"Treatment for Opioid Use Disorders\":\n  ( [\"MedicationRequest\": \"Medications for Opioid Use Disorder (MOUD)\"] MedicationTreatment\n      with [\"Procedure\": \"Opioid Medication Assisted Treatment (MAT)\"] MAT\n        such that MedicationTreatment.authoredOn during day of MAT.performed.toInterval ( )\n          and MedicationTreatment.authoredOn during day of \"Measurement Period\"\n  )\n    union ( [\"MedicationRequest\": \"Medications for Opioid Use Disorder (MOUD)\"] MedicationTreatment\n        with [\"Condition\": \"Opioid Use Disorder\"] OUD\n          such that MedicationTreatment.authoredOn during day of OUD.prevalenceInterval ( )\n            and OUD.prevalenceInterval ( ) overlaps day of \"Measurement Period\"\n    )"
      }, {
        "url": "displaySequence",
        "valueInteger": 14
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Intervention Palliative or Hospice Care"
      }, {
        "url": "statement",
        "valueString": "define \"Intervention Palliative or Hospice Care\":\n  [\"ServiceRequest\": \"Palliative or Hospice Care\"]\n    union [\"Procedure\": \"Palliative or Hospice Care\"]"
      }, {
        "url": "displaySequence",
        "valueInteger": 15
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "Denominator Exclusion"
      }, {
        "url": "statement",
        "valueString": "define \"Denominator Exclusion\":\n  /*Excludes encounters of patients with cancer pain or who are receiving palliative or hospice care at the time of the encounter or who receive treatment for opioid use disorder, have sickle cell disease, or who are discharged to another inpatient care facility or discharged against medical advice, or expire during the inpatient stay*/\n  \n  ( \"Inpatient Encounters with an Opioid or Benzodiazepine at Discharge\" InpatientEncounter\n      where exists ( [\"Condition\": \"Cancer Related Pain\"] CancerPain\n          where ( CancerPain.isProblemListItem ( )\n              or CancerPain.isHealthConcern ( )\n          )\n            and CancerPain.prevalenceInterval ( ) overlaps day of InpatientEncounter.period\n      )\n        or exists ( ( InpatientEncounter.encounterDiagnosis ( ) ) InpatientEncounterDiagnosis\n            where InpatientEncounterDiagnosis.code in \"Cancer Related Pain\"\n        )\n        or exists ( [\"Condition\": \"Sickle Cell Disease with and without Crisis\"] SickleCellDisease\n            where SickleCellDisease.prevalenceInterval ( ) overlaps day of InpatientEncounter.period\n        )\n        or exists ( \"Treatment for Opioid Use Disorders\" OUDTreatment\n            where OUDTreatment.authoredOn during day of InpatientEncounter.period\n        )\n        or exists ( \"Intervention Palliative or Hospice Care\" PalliativeOrHospiceCare\n            where Coalesce(start of PalliativeOrHospiceCare.performed.toInterval(), PalliativeOrHospiceCare.authoredOn) during day of InpatientEncounter.\"hospitalizationWithObservation\" ( )\n        )\n        or ( InpatientEncounter.hospitalization.dischargeDisposition in \"Discharge To Acute Care Facility\"\n            or InpatientEncounter.hospitalization.dischargeDisposition in \"Hospice Care Referral or Admission\"\n            or InpatientEncounter.hospitalization.dischargeDisposition in \"Patient Expired\"\n            or InpatientEncounter.hospitalization.dischargeDisposition in \"Left Against Medical Advice\"\n        )\n  )"
      }, {
        "url": "displaySequence",
        "valueInteger": 16
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElements"
      }, {
        "url": "name",
        "valueString": "SDE Race"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Race\":\n  Patient.race R\n    return Tuple {\n      codes: R.ombCategory union R.detailed,\n      display: R.text\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 17
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS506FHIRSafeUseofOpioids"
      }, {
        "url": "name",
        "valueString": "SDE Race"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Race\":\n  SDE.\"SDE Race\""
      }, {
        "url": "displaySequence",
        "valueInteger": 18
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "QICoreCommon"
      }, {
        "url": "name",
        "valueString": "isCommunity"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Returns true if the given MedicationRequest has a category of Community\n*/\ndefine fluent function isCommunity(medicationRequest MedicationRequest):\n  exists (medicationRequest.category C\n    where C ~ Community\n  )"
      }, {
        "url": "displaySequence",
        "valueInteger": 19
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "FHIRHelpers"
      }, {
        "url": "name",
        "valueString": "ToConcept"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Converts the given FHIR [CodeableConcept](https://hl7.org/fhir/datatypes.html#CodeableConcept) value to a CQL Concept.\n*/\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }"
      }, {
        "url": "displaySequence",
        "valueInteger": 20
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "QICoreCommon"
      }, {
        "url": "name",
        "valueString": "isDischarge"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Returns true if the given MedicationRequest has a category of Discharge\n*/\ndefine fluent function isDischarge(medicationRequest MedicationRequest):\n  exists (medicationRequest.category C\n    where C ~ Discharge\n  )"
      }, {
        "url": "displaySequence",
        "valueInteger": 21
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "FHIRHelpers"
      }, {
        "url": "name",
        "valueString": "ToString"
      }, {
        "url": "statement",
        "valueString": "define function ToString(value uri): value.value"
      }, {
        "url": "displaySequence",
        "valueInteger": 22
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "FHIRHelpers"
      }, {
        "url": "name",
        "valueString": "ToCode"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Converts the given FHIR [Coding](https://hl7.org/fhir/datatypes.html#Coding) value to a CQL Code.\n*/\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }"
      }, {
        "url": "displaySequence",
        "valueInteger": 23
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "QICoreCommon"
      }, {
        "url": "name",
        "valueString": "isProblemListItem"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Returns true if the given condition is a problem list item.\n*/\ndefine fluent function isProblemListItem(condition Condition):\n  exists (condition.category C\n    where C ~ \"problem-list-item\"\n  )"
      }, {
        "url": "displaySequence",
        "valueInteger": 24
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "QICoreCommon"
      }, {
        "url": "name",
        "valueString": "isHealthConcern"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Returns true if the given condition is a health concern\n*/\ndefine fluent function isHealthConcern(condition Condition):\n  exists (condition.category C\n    where C ~ \"health-concern\"\n  )"
      }, {
        "url": "displaySequence",
        "valueInteger": 25
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "QICoreCommon"
      }, {
        "url": "name",
        "valueString": "prevalenceInterval"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Returns an interval representing the normalized prevalence period of a given Condition.\n@comment: Uses the ToInterval and ToAbatementInterval functions to determine the widest potential interval from\nonset to abatement as specified in the given Condition. If the condition is active, or has an abatement date the resulting \ninterval will have a closed ending boundary. Otherwise, the resulting interval will have an open ending boundary.\n*/\ndefine fluent function prevalenceInterval(condition Condition):\nif condition.clinicalStatus ~ \"active\"\n  or condition.clinicalStatus ~ \"recurrence\"\n  or condition.clinicalStatus ~ \"relapse\" then\n  Interval[start of condition.onset.toInterval(), end of condition.abatementInterval()]\nelse\n    (end of condition.abatementInterval()) abatementDate\n    return if abatementDate is null then\n      Interval[start of condition.onset.toInterval(), abatementDate)\n    else\n      Interval[start of condition.onset.toInterval(), abatementDate]"
      }, {
        "url": "displaySequence",
        "valueInteger": 26
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CQMCommon"
      }, {
        "url": "name",
        "valueString": "encounterDiagnosis"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Returns the Condition resources referenced by the diagnosis element of the Encounter\n*/\ndefine fluent function encounterDiagnosis(Encounter Encounter ):\n  Encounter.diagnosis D\n    return singleton from ([Condition] C where C.id = D.condition.reference.getId())"
      }, {
        "url": "displaySequence",
        "valueInteger": 27
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "QICoreCommon"
      }, {
        "url": "name",
        "valueString": "getId"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Returns the tail of the given uri (i.e. everything after the last slash in the URI).\n@comment: This function can be used to determine the logical id of a given resource. It can be used in\na single-server environment to trace references. However, this function does not attempt to resolve\nor distinguish the base of the given url, and so cannot be used safely in multi-server environments.\n*/\ndefine fluent function getId(uri String):\n  Last(Split(uri, '/'))"
      }, {
        "url": "displaySequence",
        "valueInteger": 28
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CQMCommon"
      }, {
        "url": "name",
        "valueString": "hospitalizationWithObservation"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter\n*/\ndefine fluent function hospitalizationWithObservation(TheEncounter Encounter ):\n  TheEncounter Visit\n  \t\tlet ObsVisit: Last([Encounter: \"Observation Services\"] LastObs\n  \t\t\t\twhere LastObs.status = 'finished'\n            and LastObs.period ends 1 hour or less on or before start of Visit.period\n  \t\t\t\tsort by end of period\n  \t\t\t),\n  \t\t\tVisitStart: Coalesce(start of ObsVisit.period, start of Visit.period),\n  \t\t\tEDVisit: Last([Encounter: \"Emergency Department Visit\"] LastED\n  \t\t\t\twhere LastED.status = 'finished'\n            and LastED.period ends 1 hour or less on or before VisitStart\n  \t\t\t\tsort by end of period\n  \t\t\t)\n  \t\treturn Interval[Coalesce(start of EDVisit.period, VisitStart), end of Visit.period]"
      }, {
        "url": "displaySequence",
        "valueInteger": 29
      } ]
    } ],
    "name": "EffectiveDataRequirements",
    "status": "active",
    "type": {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/library-type",
        "code": "module-definition"
      } ]
    },
    "relatedArtifact": [ {
      "type": "depends-on",
      "display": "Library SDE",
      "resource": "Library/SupplementalDataElements|3.5.000"
    }, {
      "type": "depends-on",
      "display": "Library CQMCommon",
      "resource": "Library/CQMCommon|2.2.000"
    }, {
      "type": "depends-on",
      "display": "Library FHIRHelpers",
      "resource": "Library/FHIRHelpers|4.4.000"
    }, {
      "type": "depends-on",
      "display": "Library QICoreCommon",
      "resource": "Library/QICoreCommon|2.1.000"
    }, {
      "type": "depends-on",
      "display": "Code system AdministrativeGender",
      "resource": "http://hl7.org/fhir/administrative-gender"
    }, {
      "type": "depends-on",
      "display": "Code system MedicationRequestCategory",
      "resource": "http://terminology.hl7.org/CodeSystem/medicationrequest-category"
    }, {
      "type": "depends-on",
      "display": "Code system ConditionCategory",
      "resource": "http://terminology.hl7.org/CodeSystem/condition-category"
    }, {
      "type": "depends-on",
      "display": "Code system USCoreConditionCategoryExtensionCodes",
      "resource": "http://hl7.org/fhir/us/core/CodeSystem/condition-category"
    }, {
      "type": "depends-on",
      "display": "Value set Encounter Inpatient",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    }, {
      "type": "depends-on",
      "display": "Value set Schedule II, III and IV Opioid Medications",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1046.241"
    }, {
      "type": "depends-on",
      "display": "Value set Schedule IV Benzodiazepines",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1125.1"
    }, {
      "type": "depends-on",
      "display": "Value set Payer Type",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"
    }, {
      "type": "depends-on",
      "display": "Value set Cancer Related Pain",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.180"
    }, {
      "type": "depends-on",
      "display": "Value set Sickle Cell Disease with and without Crisis",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.175"
    }, {
      "type": "depends-on",
      "display": "Value set Medications for Opioid Use Disorder (MOUD)",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1046.269"
    }, {
      "type": "depends-on",
      "display": "Value set Opioid Medication Assisted Treatment (MAT)",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.177"
    }, {
      "type": "depends-on",
      "display": "Value set Opioid Use Disorder",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.171"
    }, {
      "type": "depends-on",
      "display": "Value set Palliative or Hospice Care",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.1.1579"
    }, {
      "type": "depends-on",
      "display": "Value set Observation Services",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143"
    }, {
      "type": "depends-on",
      "display": "Value set Emergency Department Visit",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292"
    }, {
      "type": "depends-on",
      "display": "Value set Discharge To Acute Care Facility",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.87"
    }, {
      "type": "depends-on",
      "display": "Value set Hospice Care Referral or Admission",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1116.365"
    }, {
      "type": "depends-on",
      "display": "Value set Patient Expired",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.309"
    }, {
      "type": "depends-on",
      "display": "Value set Left Against Medical Advice",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.308"
    } ],
    "parameter": [ {
      "name": "Measurement Period",
      "use": "in",
      "min": 0,
      "max": "1",
      "type": "Period"
    }, {
      "name": "SDE Sex",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "Coding"
    }, {
      "name": "Numerator",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "Denominator",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "SDE Payer",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "Initial Population",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "SDE Ethnicity",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "Resource"
    }, {
      "name": "Denominator Exclusion",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "SDE Race",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "Resource"
    } ],
    "dataRequirement": [ {
      "type": "Patient",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
      "mustSupport": [ "ethnicity", "race" ]
    }, {
      "type": "Encounter",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
      "mustSupport": [ "type", "status", "status.value", "period", "condition", "condition.reference", "condition.reference.value", "hospitalization", "hospitalization.dischargeDisposition" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
      }, {
        "path": "status.value",
        "code": [ {
          "code": "finished"
        } ]
      } ],
      "dateFilter": [ {
        "path": "period",
        "valuePeriod": {
          "extension": [ {
            "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",
            "valueExpression": {
              "language": "text/cql-identifier",
              "expression": "Measurement Period"
            }
          } ]
        }
      } ]
    }, {
      "type": "Encounter",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
      "mustSupport": [ "type", "status", "status.value", "period", "condition", "condition.reference", "condition.reference.value", "hospitalization", "hospitalization.dischargeDisposition" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143"
      }, {
        "path": "status.value",
        "code": [ {
          "code": "finished"
        } ]
      } ]
    }, {
      "type": "Encounter",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
      "mustSupport": [ "type", "status", "status.value", "period", "condition", "condition.reference", "condition.reference.value", "hospitalization", "hospitalization.dischargeDisposition" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292"
      }, {
        "path": "status.value",
        "code": [ {
          "code": "finished"
        } ]
      } ],
      "dateFilter": [ {
        "path": "period",
        "valuePeriod": {
          "extension": [ {
            "url": "http://hl7.org/fhir/uv/crmi-analysisException",
            "valueString": "Error attempting to determine filter value: toFhirValue not implemented for Subtract"
          } ]
        }
      } ]
    }, {
      "type": "Medication",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
      "mustSupport": [ "id" ]
    }, {
      "type": "Medication",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
      "mustSupport": [ "id" ]
    }, {
      "type": "Medication",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication" ],
      "mustSupport": [ "id" ]
    }, {
      "type": "MedicationRequest",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
      "mustSupport": [ "medication", "status", "status.value", "intent", "intent.value", "authoredOn", "authoredOn.value" ],
      "codeFilter": [ {
        "path": "medication",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1046.241"
      } ]
    }, {
      "type": "MedicationRequest",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
      "mustSupport": [ "medication", "status", "status.value", "intent", "intent.value", "authoredOn", "authoredOn.value" ],
      "codeFilter": [ {
        "path": "medication",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1125.1"
      } ]
    }, {
      "type": "MedicationRequest",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
      "mustSupport": [ "medication", "status", "status.value", "intent", "intent.value", "authoredOn", "authoredOn.value" ],
      "codeFilter": [ {
        "path": "medication",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1125.1"
      }, {
        "path": "intent.value",
        "code": [ {
          "code": "order"
        } ]
      } ]
    }, {
      "type": "MedicationRequest",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
      "mustSupport": [ "medication.reference", "status", "status.value", "intent", "intent.value", "authoredOn", "authoredOn.value", "medication" ]
    }, {
      "type": "MedicationRequest",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest" ],
      "mustSupport": [ "medication", "status", "status.value", "intent", "intent.value", "authoredOn", "authoredOn.value" ],
      "codeFilter": [ {
        "path": "medication",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1046.269"
      } ]
    }, {
      "type": "Coverage",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-coverage" ],
      "mustSupport": [ "type", "period" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"
      } ]
    }, {
      "type": "Condition",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition" ],
      "mustSupport": [ "id", "id.value", "code" ]
    }, {
      "type": "Condition",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition" ],
      "mustSupport": [ "code" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.171"
      } ]
    }, {
      "type": "Condition",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition" ],
      "mustSupport": [ "code" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.180"
      } ]
    }, {
      "type": "Condition",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition" ],
      "mustSupport": [ "code" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.175"
      } ]
    }, {
      "type": "Procedure",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
      "mustSupport": [ "code", "performed" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.177"
      } ]
    }, {
      "type": "Procedure",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
      "mustSupport": [ "code" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.1.1579"
      } ]
    }, {
      "type": "ServiceRequest",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest" ],
      "mustSupport": [ "code" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.600.1.1579"
      } ]
    } ]
  } ],
  "extension": [ {
    "id": "supplementalDataGuidance",
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-supplementalDataGuidance",
    "extension": [ {
      "url": "guidance",
      "valueString": "For every patient evaluated by this measure also identify payer, race, ethnicity and sex; \nSDE Ethnicity \nSDE Payer \nSDE Race \nSDE Sex \n "
    }, {
      "url": "usage",
      "valueCodeableConcept": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
          "code": "supplemental-data",
          "display": "Supplemental Data"
        } ],
        "text": "Supplemental Data Guidance"
      }
    } ]
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  }, {
    "id": "effective-data-requirements",
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-effectiveDataRequirements",
    "valueReference": {
      "reference": "#effective-data-requirements"
    }
  } ],
  "url": "https://madie.cms.gov/Measure/CMS506FHIRSafeUseofOpioids",
  "identifier": [ {
    "use": "usual",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "short-name",
        "display": "Short Name"
      } ]
    },
    "system": "https://madie.cms.gov/measure/shortName",
    "value": "CMS506FHIR"
  }, {
    "use": "official",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "version-independent",
        "display": "Version Independent"
      } ]
    },
    "system": "urn:ietf:rfc:3986",
    "value": "urn:uuid:95d529af-66b4-4cfd-bc1f-f43704dc47ad"
  }, {
    "use": "official",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "version-specific",
        "display": "Version Specific"
      } ]
    },
    "system": "urn:ietf:rfc:3986",
    "value": "urn:uuid:d10c3b74-5e5a-44ed-a0b6-6abf0b30e93a"
  }, {
    "use": "official",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "endorser",
        "display": "Endorser"
      } ]
    },
    "system": "https://madie.cms.gov/measure/cbeId",
    "value": "3316e",
    "assigner": {
      "display": "CMS Consensus Based Entity"
    }
  }, {
    "use": "official",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "publisher",
        "display": "Publisher"
      } ]
    },
    "system": "https://madie.cms.gov/measure/cmsId",
    "value": "506FHIR",
    "assigner": {
      "display": "CMS"
    }
  } ],
  "version": "0.2.004",
  "name": "CMS506FHIRSafeUseofOpioids",
  "title": "Safe Use of Opioids Concurrent PrescribingFHIR",
  "status": "active",
  "experimental": false,
  "date": "2025-01-14T15:54:08+00:00",
  "publisher": "Centers for Medicare & Medicaid Services (CMS)",
  "contact": [ {
    "telecom": [ {
      "system": "url",
      "value": "https://www.cms.gov/"
    } ]
  } ],
  "description": "Proportion of inpatient hospitalizations for patients 18 years of age and older prescribed, or continued on, two or more opioids or an opioid and benzodiazepine concurrently at discharge",
  "purpose": "UNKNOWN",
  "usage": "Clinician judgement, clinical appropriateness, or both may indicate concurrent prescribing of two unique opioids or an opioid and benzodiazepine is medically necessary, thus the measure is not expected to have a zero rate. \n\nInpatient hospitalizations with discharge medications of an opioid or benzodiazepine prescription should be included in the initial population. \n\nInpatient hospitalizations with discharge medications of two or more opioids or an opioid and benzodiazepine resulting in concurrent therapy at discharge should be included in the numerator. Each benzodiazepine and opioid included on the medication discharge list is considered a unique prescription.\n\nThe denominator population includes patients with inpatient hospitalizations and patients from Acute Hospital Care at Home programs, who are treated and billed as inpatients but receive care in their home.\n\nThis eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period. \n\nThis FHIR-based measure has been derived from the QDM-based measure: CMS 506v8.0. Please refer to the HL7 QI-Core Implementation Guide (https://hl7.org/fhir/us/qicore/STU4.1.1/) for more information on QI-Core and mapping recommendations from QDM to QI-Core 4.1.1 (https://hl7.org/fhir/us/qicore/STU4.1.1/qdm-to-qicore.html).",
  "copyright": "Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. Mathematica disclaims all liability for use or accuracy of any third-party codes contained in the specifications.\n\nCPT(R) contained in the measure specifications is copyright 2004-2024 American Medical Association. LOINC(R) copyright 2004-2024 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2024 International Health Terminology Standards Development Organisation. ICD-10 copyright 2024 World Health Organization. All Rights Reserved.",
  "effectivePeriod": {
    "start": "2026-01-01",
    "end": "2026-12-31"
  },
  "author": [ {
    "name": "Mathematica",
    "telecom": [ {
      "system": "url",
      "value": "https://www.mathematica.org/"
    } ]
  } ],
  "library": [ "https://madie.cms.gov/Library/CMS506FHIRSafeUseofOpioids" ],
  "disclaimer": "These performance measures are not clinical guidelines, do not establish a standard of medical care, and have not been tested for all potential applications.\n\nTHE MEASURES AND SPECIFICATION ARE PROVIDED AS IS WITHOUT WARRANTY OF ANY KIND.\n\nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].",
  "rationale": "Unintentional opioid overdose fatalities have become a major public health concern in the United States (Rudd, Aleshire, Zibbel, & Gladden, 2016). Reducing the number of unintentional overdoses has become a priority for numerous federal organizations including, but not limited to, the Centers for Disease Control and Prevention (CDC), the Federal Interagency Workgroup for Opioid Adverse Drug Events, and the Substance Abuse and Mental Health Services Administration. \n\nConcurrent prescriptions of opioids or opioids and benzodiazepines places patients at a greater risk of unintentional overdose due to the increased risk of respiratory depression (Dowell, Haegerich, & Chou, 2016; Dowell, Ragan, Jones, Baldwin, & Chou, 2022). An analysis of national prescribing patterns shows that more than half of patients who received an opioid prescription in 2009 had filled another opioid prescription within the previous 30 days (National Institute on Drug Abuse, 2011). Studies of multiple claims and prescription databases have shown that between 5%-15% of patients receive concurrent opioid prescriptions and 5%-20% of patients receive concurrent opioid and benzodiazepine prescriptions across various settings (Liu et al., 2013; Mack et al., 2015, Park et al., 2015). Patients who have multiple opioid prescriptions have an increased risk for overdose (Jena et al., 2014). Rates of fatal overdose are ten times higher in patients who are co-dispensed opioid analgesics and benzodiazepines than opioids alone (Dasgupta et al., 2015). The number of opioid overdose deaths involving benzodiazepines increased 14% on average each year from 2006 to 2011, while the number of opioid analgesic overdose deaths not involving benzodiazepines did not change significantly (Jones & McAninch, 2015). Furthermore, concurrent use of benzodiazepines with opioids was prevalent in 31%-51% of fatal overdoses (Dowell, Haegerich, & Chou, 2016). One study found that eliminating concurrent use of opioids and benzodiazepines could reduce the risk of opioid overdose-related emergency department (ED) and inpatient visits by 15% and potentially could have prevented an estimated 2,630 deaths related to opioid painkiller overdoses in 2015 (Sun, Dixit, Humphreys, Darnall, & Mackey, 2017). \n\nA study on The Opioid Safety Initiative in the Veterans Health Administration (VHA), which includes an opioid and benzodiazepine concurrent prescribing measure that this measure is based on, was associated with a decrease of 20.67% overall and 0.86% patients per month (781 patients per month) receiving concurrent benzodiazepine with an opioid among all adult VHA patients who filled outpatient opioid prescriptions from October 2012 to September 2014 (Lin, Bohnert, Kerns, Clay, Ganoczy, & Ilgen, 2017).\n\nAdopting a measure that calculates the proportion of patients with two or more opioids or opioids and benzodiazepines concurrently has the potential to reduce preventable mortality and reduce the costs associated with adverse events related to opioid use by (1) encouraging providers to identify patients with concurrent prescriptions of opioids or opioids and benzodiazepines and (2) discouraging providers from prescribing two or more opioids or opioids and benzodiazepines concurrently.",
  "clinicalRecommendationStatement": "The CDC Clinical Practice Guideline for Prescribing Opioids for Pain — United States, 2022 recommends that clinicians should:\n- “[Use strategies minimizing] opioid use…for both opioid-naïve and opioid-tolerant patients with acute pain when possible. If patients receiving long-term opioid therapy require additional medication for acute pain, nonopioid medications should be used when possible.”\n- ”Use particular caution when prescribing opioid pain medication and benzodiazepines concurrently.\"\n- “Review increased risks for respiratory depression when opioids are taken with benzodiazepines, other sedatives, alcohol, nonprescribed or illicit drugs (e.g., heroin), or other opioids (see Recommendations 8 and 11)”\n- “Closely monitor patients who are unable to taper and who continue on high-dose or otherwise high-risk opioid regimens (e.g., opioids prescribed concurrently with benzodiazepines) and should work with patients to mitigate overdose risk (e.g., by providing overdose education and naloxone) (see Recommendation 8).”\n- \"Discuss information from the PDMP with the patient and confirm that the patient is aware of any additional prescriptions.”\n- “Discuss safety concerns, including increased risk for respiratory depression and overdose, with patients found to be receiving overlapping prescription opioids from multiple clinicians who are not coordinating the patient’s care or patients who are receiving medications that increase risk when combined with opioids (e.g., benzodiazepines) (see Recommendation 11), and offer naloxone (see Recommendation 8).\"\n- \"Discuss safety concerns with other clinicians who are prescribing controlled substances for the patient. Ideally, clinicians should first discuss concerns with the patient and inform them that they plan to coordinate care with their other clinicians to improve the patient’s safety.”\n\nIn addition to the 2022 CDC Clinical Practice Guideline for Prescribing Opioids for Pain, opioid prescribing guidelines issued by various state agencies and professional societies for various settings agree with the recommendation to avoid concurrently prescribing opioids  (American Academy of Emergency Medicine (AAEM), 2013; and Washington Agency Medical Directors’ Group (WAMDG), 2015), and opioids and benzodiazepines (WAMDG, 2015; American Society of Interventional Pain Physicians (ASIPP), 2012;, and New York City Department Of Health and Mental Hygiene (NYC DPOMH), 2013) whenever possible as the combination of these medications may potentiate opioid-induced respiratory depression.",
  "guidance": "Clinician judgement, clinical appropriateness, or both may indicate concurrent prescribing of two unique opioids or an opioid and benzodiazepine is medically necessary, thus the measure is not expected to have a zero rate. \n\nInpatient hospitalizations with discharge medications of an opioid or benzodiazepine prescription should be included in the initial population. \n\nInpatient hospitalizations with discharge medications of two or more opioids or an opioid and benzodiazepine resulting in concurrent therapy at discharge should be included in the numerator. Each benzodiazepine and opioid included on the medication discharge list is considered a unique prescription.\n\nThe denominator population includes patients with inpatient hospitalizations and patients from Acute Hospital Care at Home programs, who are treated and billed as inpatients but receive care in their home.\n\nThis eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period. \n\nThis FHIR-based measure has been derived from the QDM-based measure: CMS 506v8.0. Please refer to the HL7 QI-Core Implementation Guide (https://hl7.org/fhir/us/qicore/STU4.1.1/) for more information on QI-Core and mapping recommendations from QDM to QI-Core 4.1.1 (https://hl7.org/fhir/us/qicore/STU4.1.1/qdm-to-qicore.html).",
  "group": [ {
    "id": "674f59ea46b6174510cfea9d",
    "extension": [ {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-scoring",
      "valueCodeableConcept": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-scoring",
          "code": "proportion",
          "display": "Proportion"
        } ]
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
      "valueCode": "Encounter"
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-type",
      "valueCodeableConcept": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-type",
          "code": "process",
          "display": "Process"
        } ]
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-rateAggregation",
      "valueCode": "None"
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-improvementNotation",
      "valueCodeableConcept": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-improvement-notation",
          "code": "decrease",
          "display": "Decreased score indicates improvement"
        } ]
      }
    } ],
    "description": "Proportion of inpatient hospitalizations for patients 18 years of age and older prescribed two or more opioids or an opioid and benzodiazepine concurrently at discharge.",
    "population": [ {
      "id": "345E1255-3623-402A-9016-2B5C9E096C26",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "initial-population",
          "display": "Initial Population"
        } ]
      },
      "description": "Inpatient hospitalizations that end during the measurement period, where the patient is 18 years of age and older at the start of the encounter and prescribed one opioid and/or benzodiazepine at discharge",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Initial Population"
      }
    }, {
      "id": "9ED4F80C-B465-4CDB-BFDD-CE376A165DD0",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "denominator",
          "display": "Denominator"
        } ]
      },
      "description": "Equals Initial Population",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Denominator"
      }
    }, {
      "id": "25C57870-241A-428F-BDA8-63C5B4685EE4",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "denominator-exclusion",
          "display": "Denominator Exclusion"
        } ]
      },
      "description": "Inpatient hospitalizations where patients have cancer pain that begins prior to or during the encounter or are ordered or are receiving palliative or hospice care (including comfort measures, terminal care, and dying care) during the hospitalization or in an emergency department encounter or observation stay immediately prior to hospitalization, patients receiving medication for opioid use disorder (OUD) with active OUD diagnosis or Opioid Medication Assisted Treatment (MAT), patients with sickle cell disease, patients discharged to another inpatient care facility or left against medical advice, and patients who expire during the inpatient stay",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Denominator Exclusion"
      }
    }, {
      "id": "C36B952C-8CCF-436F-A9E2-423A00C56A1A",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "numerator",
          "display": "Numerator"
        } ]
      },
      "description": "Inpatient hospitalizations where the patient is prescribed two or more opioids or an opioid and benzodiazepine at discharge",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Numerator"
      }
    } ]
  } ],
  "supplementalData": [ {
    "id": "sde-ethnicity",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "description": "SDE Ethnicity",
    "criteria": {
      "language": "text/cql-identifier",
      "expression": "SDE Ethnicity"
    }
  }, {
    "id": "sde-payer",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "description": "SDE Payer",
    "criteria": {
      "language": "text/cql-identifier",
      "expression": "SDE Payer"
    }
  }, {
    "id": "sde-race",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "description": "SDE Race",
    "criteria": {
      "language": "text/cql-identifier",
      "expression": "SDE Race"
    }
  }, {
    "id": "sde-sex",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "description": "SDE Sex",
    "criteria": {
      "language": "text/cql-identifier",
      "expression": "SDE Sex"
    }
  } ]
}