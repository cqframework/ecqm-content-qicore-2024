{
  "resourceType": "Measure",
  "id": "CMS334FHIRPCCesareanBirth",
  "meta": {
    "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm", "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/publishable-measure-cqfm", "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/executable-measure-cqfm" ]
  },
  "contained": [ {
    "resourceType": "Library",
    "id": "effective-data-requirements",
    "extension": [ {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://hl7.org/fhir/administrative-gender",
        "code": "M",
        "display": "Male"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://hl7.org/fhir/administrative-gender",
        "code": "F",
        "display": "Female"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://loinc.org",
        "code": "93857-1",
        "display": "Date and time of obstetric delivery"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://loinc.org",
        "code": "11778-8",
        "display": "Delivery date Estimated"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://loinc.org",
        "code": "11996-6",
        "display": "[#] Pregnancies"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://loinc.org",
        "code": "11977-6",
        "display": "[#] Parity"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://loinc.org",
        "code": "11637-6",
        "display": "[#] Births.preterm"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding": {
        "system": "http://loinc.org",
        "code": "11639-2",
        "display": "[#] Births.term"
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElements"
      }, {
        "url": "name",
        "valueString": "SDE Sex"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Sex\":\n  case\n    when Patient.gender = 'male' then \"M\"\n    when Patient.gender = 'female' then \"F\"\n    else null\n  end"
      }, {
        "url": "displaySequence",
        "valueInteger": 0
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "SDE Sex"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Sex\":\n  SDE.\"SDE Sex\""
      }, {
        "url": "displaySequence",
        "valueInteger": 1
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CQMCommon"
      }, {
        "url": "name",
        "valueString": "Inpatient Encounter"
      }, {
        "url": "statement",
        "valueString": "define \"Inpatient Encounter\":\n  [Encounter: \"Encounter Inpatient\"] EncounterInpatient\n\t\twhere EncounterInpatient.status = 'finished'\n\t\tand EncounterInpatient.period ends during day of \"Measurement Period\""
      }, {
        "url": "displaySequence",
        "valueInteger": 2
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "PCMaternal"
      }, {
        "url": "name",
        "valueString": "Encounter with Age Range"
      }, {
        "url": "statement",
        "valueString": "define \"Encounter with Age Range\":\n CQMCommon.\"Inpatient Encounter\" InpatientEncounter\n                      where AgeInYearsAt(date from start of InpatientEncounter.period) in Interval[ 8, 65 )"
      }, {
        "url": "displaySequence",
        "valueInteger": 3
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "PCMaternal"
      }, {
        "url": "name",
        "valueString": "Delivery Encounter with Age Range"
      }, {
        "url": "statement",
        "valueString": "define \"Delivery Encounter with Age Range\":\n  \"Encounter with Age Range\" EncounterWithAge\n                with [\"Procedure\": \"Delivery Procedures\"] DeliveryProcedure\n                such that DeliveryProcedure.status = 'completed'\n                and DeliveryProcedure.performed.toInterval  ( ) starts during EncounterWithAge.hospitalizationWithEDOBTriageObservation ()"
      }, {
        "url": "displaySequence",
        "valueInteger": 4
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks"
      }, {
        "url": "statement",
        "valueString": "define \"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks\":\n  PCMaternal.\"Delivery Encounter with Age Range\" DeliveryEncounter\n    where DeliveryEncounter.calculatedGestationalAge ( ) >= 37"
      }, {
        "url": "displaySequence",
        "valueInteger": 5
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks"
      }, {
        "url": "statement",
        "valueString": "define \"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks\":\n  PCMaternal.\"Delivery Encounter with Age Range\" DeliveryEncounter\n    where DeliveryEncounter.calculatedGestationalAge ( ) is null\n      and DeliveryEncounter.lastEstimatedGestationalAge ( ) >= 37 weeks"
      }, {
        "url": "displaySequence",
        "valueInteger": 6
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding"
      }, {
        "url": "statement",
        "valueString": "define \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding\":\n  PCMaternal.\"Delivery Encounter with Age Range\" DeliveryEncounter\n    let CGA: DeliveryEncounter.calculatedGestationalAge ( ),\n    EGA: DeliveryEncounter.lastEstimatedGestationalAge ( )\n    where CGA is null\n      and EGA is null\n      and exists ( ( DeliveryEncounter.encounterDiagnosis ( ) ) EncounterDiagnosis\n          where EncounterDiagnosis.code in \"37 to 42 Plus Weeks Gestation\"\n      )"
      }, {
        "url": "displaySequence",
        "valueInteger": 7
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks"
      }, {
        "url": "statement",
        "valueString": "define \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks\":\n  \"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks\"\n    union \"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks\"\n    union \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding\""
      }, {
        "url": "displaySequence",
        "valueInteger": 8
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Encounter with Singleton Delivery"
      }, {
        "url": "statement",
        "valueString": "define \"Encounter with Singleton Delivery\":\n  PCMaternal.\"Delivery Encounter with Age Range\" DeliveryEncounter\n    where exists ( ( DeliveryEncounter.encounterDiagnosis ( ) ) EncounterDiagnosis\n        where EncounterDiagnosis.code in \"Delivery of Singleton\"\n    )"
      }, {
        "url": "displaySequence",
        "valueInteger": 9
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"
      }, {
        "url": "statement",
        "valueString": "define \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\":\n  ( \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks\"\n    intersect \"Encounter with Singleton Delivery\" ) SingletonEncounterGE37Weeks\n    where ( ( SingletonEncounterGE37Weeks.lastGravida ( ) = 1 )\n        or ( SingletonEncounterGE37Weeks.lastParity ( ) = 0 )\n        or ( ( SingletonEncounterGE37Weeks.lastHistoryPretermBirth ( ) = 0 )\n            and ( SingletonEncounterGE37Weeks.lastHistoryTermBirth ( ) = 0 )\n        )\n    )"
      }, {
        "url": "displaySequence",
        "valueInteger": 10
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Delivery Encounter with Cesarean Birth"
      }, {
        "url": "statement",
        "valueString": "define \"Delivery Encounter with Cesarean Birth\":\n  \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\" ThirtySevenWeeksPlusEncounter\n    with [\"Procedure\": \"Cesarean Birth\"] CSection\n      such that CSection.performed.toInterval ( ) during ThirtySevenWeeksPlusEncounter.hospitalizationWithEDOBTriageObservation ( )\n        and CSection.status = 'completed'"
      }, {
        "url": "displaySequence",
        "valueInteger": 11
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Numerator"
      }, {
        "url": "statement",
        "valueString": "define \"Numerator\":\n  \"Delivery Encounter with Cesarean Birth\""
      }, {
        "url": "displaySequence",
        "valueInteger": 12
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Denominator"
      }, {
        "url": "statement",
        "valueString": "define \"Denominator\":\n  \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""
      }, {
        "url": "displaySequence",
        "valueInteger": 13
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElements"
      }, {
        "url": "name",
        "valueString": "SDE Payer"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Payer\":\n  [Coverage: type in \"Payer Type\"] Payer\n    return {\n      code: Payer.type,\n      period: Payer.period\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 14
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "SDE Payer"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Payer\":\n  SDE.\"SDE Payer\""
      }, {
        "url": "displaySequence",
        "valueInteger": 15
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Initial Population"
      }, {
        "url": "statement",
        "valueString": "define \"Initial Population\":\n  PCMaternal.\"Delivery Encounter with Age Range\""
      }, {
        "url": "displaySequence",
        "valueInteger": 16
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElements"
      }, {
        "url": "name",
        "valueString": "SDE Ethnicity"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Ethnicity\":\n  Patient.ethnicity E\n    return Tuple {\n      codes: { E.ombCategory } union E.detailed,\n      display: E.text\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 17
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "SDE Ethnicity"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Ethnicity\":\n  SDE.\"SDE Ethnicity\""
      }, {
        "url": "displaySequence",
        "valueInteger": 18
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Encounter with Abnormal Presentation"
      }, {
        "url": "statement",
        "valueString": "define \"Encounter with Abnormal Presentation\":\n  \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\" ThirtySevenWeeksPlusEncounter\n    let LastAbnormalPresentation: Last([\"Observation\": \"Abnormal Presentation\"] AbnormalPresentation\n        where AbnormalPresentation.effective.earliest() before or on ThirtySevenWeeksPlusEncounter.lastTimeOfDelivery()\n          and AbnormalPresentation.status in { 'final', 'amended', 'corrected' }\n        sort by effective.earliest()\n    )\n    where LastAbnormalPresentation.effective.earliest ( ) during ThirtySevenWeeksPlusEncounter.period\n      or exists ( ( ThirtySevenWeeksPlusEncounter.encounterDiagnosis ( ) ) EncounterDiagnosis\n          where EncounterDiagnosis.code in \"Abnormal Presentation\"\n      )"
      }, {
        "url": "displaySequence",
        "valueInteger": 19
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum"
      }, {
        "url": "statement",
        "valueString": "define \"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\":\n  \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\" ThirtySevenWeeksPlusEncounter\n    where exists ( ( ThirtySevenWeeksPlusEncounter.encounterDiagnosis ( ) ) EncounterDiagnosis\n        where EncounterDiagnosis.code in \"Placenta Accreta Spectrum Previa or Vasa Previa\"\n          or EncounterDiagnosis.code in \"Genital Herpes\"\n    )"
      }, {
        "url": "displaySequence",
        "valueInteger": 20
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum"
      }, {
        "url": "statement",
        "valueString": "define \"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\":\n  \"Encounter with Abnormal Presentation\"\n    union \"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\""
      }, {
        "url": "displaySequence",
        "valueInteger": 21
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "Denominator Exclusions"
      }, {
        "url": "statement",
        "valueString": "define \"Denominator Exclusions\":\n  \"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\""
      }, {
        "url": "displaySequence",
        "valueInteger": 22
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "SupplementalDataElements"
      }, {
        "url": "name",
        "valueString": "SDE Race"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Race\":\n  Patient.race R\n    return Tuple {\n      codes: R.ombCategory union R.detailed,\n      display: R.text\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 23
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "SDE Race"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Race\":\n  SDE.\"SDE Race\""
      }, {
        "url": "displaySequence",
        "valueInteger": 24
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "PCMaternal"
      }, {
        "url": "name",
        "valueString": "Variable Calculated Gestational Age"
      }, {
        "url": "statement",
        "valueString": "define \"Variable Calculated Gestational Age\":\n // This definition establishes a variable of CGA (Calculated Gestational Age).  CGA is a supplemental data element to store the calculated gestational age result from the \"CalculatedGestationalAge\" function.  The data element enables the capturing and saving of the CGA for data analysis post data receipt. Hospitals do not need to submit any additional data to comply with this definition\n  \"Delivery Encounter with Age Range\" DeliveryEncounter\n    let CGA: DeliveryEncounter.calculatedGestationalAge()\n  //  return { QualifyingEncounter, CGA }\n    return {\n      EncounterID: DeliveryEncounter.id,\n      CalculatedCGA: CGA\n    }"
      }, {
        "url": "displaySequence",
        "valueInteger": 25
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "SDE Variable Calculated Gestational Age"
      }, {
        "url": "statement",
        "valueString": "define \"SDE Variable Calculated Gestational Age\":\n  PCMaternal.\"Variable Calculated Gestational Age\""
      }, {
        "url": "displaySequence",
        "valueInteger": 26
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "PCMaternal"
      }, {
        "url": "name",
        "valueString": "hospitalizationWithEDOBTriageObservation"
      }, {
        "url": "statement",
        "valueString": "/*define function \"HospitalizationWithEDOBTriageObservation\"(Encounter Encounter ):\n  HospitalizationWithEDOBTriageObservation returns the total interval from the start of any immediately prior emergency department visit or OB Triage visit through the observation visit to the discharge of the given encounter\n  Encounter Visit\n    let ObsVisit: Last([\"Encounter\": \"Observation Services\"] LastObs\n        where LastObs.period ends 1 hour or less on or before start of Visit.period\n          and LastObs.status = 'finished'\n        sort by \n        end of period\n    ),\n    VisitStart: Coalesce(start of ObsVisit.period, start of Visit.period),\n    EDOBTriageVisit: Last([\"Encounter\": \"ED Visit and OB Triage\"] LastEDOBTriage\n        where LastEDOBTriage.period ends 1 hour or less on or before VisitStart\n          and LastEDOBTriage.status = 'finished'\n        sort by \n        end of period\n    )\n    return Interval[Coalesce(start of EDOBTriageVisit.period, VisitStart), \n    end of Visit.period]*/\n    \n    \ndefine fluent function hospitalizationWithEDOBTriageObservation (TheEncounter Encounter ):\n  /*hospitalizationWithEDOBTriageObservation returns the total interval from the start of any immediately prior emergency department visit or OB Triage visit through the observation visit to the discharge of the given encounter*/\n  TheEncounter Visit\n    let ObsVisit: Last([\"Encounter\": \"Observation Services\"] LastObs\n        where LastObs.period ends 1 hour or less on or before start of Visit.period\n          and LastObs.status = 'finished'\n        sort by \n        end of period\n    ),\n    VisitStart: Coalesce(start of ObsVisit.period, start of Visit.period),\n    EDOBTriageVisit: Last([\"Encounter\": \"ED Visit and OB Triage\"] LastEDOBTriage\n        where LastEDOBTriage.period ends 1 hour or less on or before VisitStart\n          and LastEDOBTriage.status = 'finished'\n        sort by \n        end of period\n    )\n    return Interval[Coalesce(start of EDOBTriageVisit.period, VisitStart), \n    end of Visit.period]"
      }, {
        "url": "displaySequence",
        "valueInteger": 27
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "PCMaternal"
      }, {
        "url": "name",
        "valueString": "calculatedGestationalAge"
      }, {
        "url": "statement",
        "valueString": "define fluent function calculatedGestationalAge (TheEncounter Encounter ):\n  //Gestational Age = (280-(Estimated Delivery Date minus Reference Date/Delivery Date))/7\n ( 280 - ( difference in days between TheEncounter.lastTimeOfDelivery () and TheEncounter.lastEstimatedDeliveryDate( )) ) div 7"
      }, {
        "url": "displaySequence",
        "valueInteger": 28
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "PCMaternal"
      }, {
        "url": "name",
        "valueString": "lastTimeOfDelivery"
      }, {
        "url": "statement",
        "valueString": "define fluent function lastTimeOfDelivery (TheEncounter Encounter ):\n  Last([\"Observation\": \"Date and time of obstetric delivery\"] TimeOfDelivery\n      where TimeOfDelivery.value as DateTime is not null\n        and TimeOfDelivery.status in { 'final', 'amended', 'corrected' }\n        and TimeOfDelivery.effective.earliest () during TheEncounter.hospitalizationWithEDOBTriageObservation ()\n        and TimeOfDelivery.value as DateTime during TheEncounter.hospitalizationWithEDOBTriageObservation()\n      sort by effective.earliest()\n  ).value as DateTime"
      }, {
        "url": "displaySequence",
        "valueInteger": 29
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "QICoreCommon"
      }, {
        "url": "name",
        "valueString": "earliest"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Given an interval, return the starting point if the interval has a starting boundary specified,\notherwise, return the ending point\n*/\ndefine fluent function earliest(choice Choice<DateTime, Quantity, Interval<DateTime>, Interval<Quantity>> ):\n  (choice.toInterval()) period\n    return\n      if (period.\"hasStart\"()) then start of period\n      else end of period"
      }, {
        "url": "displaySequence",
        "valueInteger": 30
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "PCMaternal"
      }, {
        "url": "name",
        "valueString": "lastEstimatedDeliveryDate"
      }, {
        "url": "statement",
        "valueString": "/*===============================================================*/\n  /*  03/14/2022 from MATGlobalCommonFunctionsv7.000 - latest QDM  */\n  /*     even though this PCMaternalFHIR was derived from          */\n  /*     PCMaternal=2.1.000 cql, to make next update easier.       */\n  /*     Will need to re-insert \"Global\". in front of these        */\n  /*     function names later (whereever they are directly used.*/\n\ndefine fluent function lastEstimatedDeliveryDate (TheEncounter Encounter ):\n  /*This function identifies the last time the EDD was assessed 42 weeks or less prior to or on delivery and stores the result of that assessment.*/\n  Last([\"Observation\": \"Delivery date Estimated\"] EstimatedDateOfDelivery\n      where EstimatedDateOfDelivery.value as DateTime is not null\n        and EstimatedDateOfDelivery.status in { 'final', 'amended', 'corrected' }\n        and EstimatedDateOfDelivery.effective.earliest ( ) 42 weeks or less before or on TheEncounter.lastTimeOfDelivery ()\n      sort by effective.earliest ( )\n  ).value as DateTime"
      }, {
        "url": "displaySequence",
        "valueInteger": 31
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "PCMaternal"
      }, {
        "url": "name",
        "valueString": "lastEstimatedGestationalAge"
      }, {
        "url": "statement",
        "valueString": "/*define fluent function lastEstimatedGestationalAge (TheEncounter Encounter ):\n  Last([\"Observation\": \"Estimated Gestational Age at Delivery\"] EstimatedGestationalAge\n      where EstimatedGestationalAge.value is not null\n        and EstimatedGestationalAge.status in { 'final', 'amended', 'corrected' }\n        and EstimatedGestationalAge.effective.earliest() 24 hours or less before or on TheEncounter.lastTimeOfDelivery ()\n      sort by effective.earliest ()\n  ).value as Quantity*/\n  \n  define fluent function lastEstimatedGestationalAge (TheEncounter Encounter ):\n  Last([\"Observation\": \"Estimated Gestational Age at Delivery\"] EstimatedGestationalAge\n  let EGATiming:  EstimatedGestationalAge.effective.earliest() where \n  (EGATiming 24 hours or less before or on TheEncounter.lastTimeOfDelivery () \n  and EstimatedGestationalAge.value is not null \n  and EstimatedGestationalAge.status in { 'final', 'amended', 'corrected' }) or \n      (EGATiming same day as TheEncounter.lastTimeOfDelivery () \n      and EGATiming during TheEncounter.hospitalizationWithEDOBTriageObservation() \n      and EstimatedGestationalAge.value is not null)\n sort by effective.earliest ())\n         .value as Quantity"
      }, {
        "url": "displaySequence",
        "valueInteger": 32
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CQMCommon"
      }, {
        "url": "name",
        "valueString": "encounterDiagnosis"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Returns the Condition resources referenced by the diagnosis element of the Encounter\n*/\ndefine fluent function encounterDiagnosis(Encounter Encounter ):\n  Encounter.diagnosis D\n    return singleton from ([Condition] C where C.id = D.condition.reference.getId())"
      }, {
        "url": "displaySequence",
        "valueInteger": 33
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "QICoreCommon"
      }, {
        "url": "name",
        "valueString": "getId"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Returns the tail of the given uri (i.e. everything after the last slash in the URI).\n@comment: This function can be used to determine the logical id of a given resource. It can be used in\na single-server environment to trace references. However, this function does not attempt to resolve\nor distinguish the base of the given url, and so cannot be used safely in multi-server environments.\n*/\ndefine fluent function getId(uri String):\n  Last(Split(uri, '/'))"
      }, {
        "url": "displaySequence",
        "valueInteger": 34
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "lastGravida"
      }, {
        "url": "statement",
        "valueString": "//       and EncounterDiagnoses.verificationStatus  ~ FHIRCommon.\"confirmed\"\n\n\ndefine fluent function lastGravida(TheEncounter Encounter):\n  Last([\"Observation\": \"[#] Pregnancies\"] Gravida\n      where Gravida.value is not null\n        and Gravida.status in { 'final', 'amended', 'corrected' }\n        and Gravida.effective.earliest() 42 weeks or less before TheEncounter.lastTimeOfDelivery()\n      sort by effective.earliest()\n  ).value as Integer"
      }, {
        "url": "displaySequence",
        "valueInteger": 35
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "lastParity"
      }, {
        "url": "statement",
        "valueString": "define fluent function lastParity(TheEncounter Encounter):\n  Last([\"Observation\": \"[#] Parity\"] Parity\n      where Parity.effective.earliest() 42 weeks or less before TheEncounter.lastTimeOfDelivery()\n        and Parity.status in { 'final', 'amended', 'corrected' }\n        and Parity.value is not null\n      sort by effective.earliest()\n  ).value as Integer"
      }, {
        "url": "displaySequence",
        "valueInteger": 36
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "lastHistoryPretermBirth"
      }, {
        "url": "statement",
        "valueString": "define fluent function lastHistoryPretermBirth(TheEncounter Encounter):\n  Last([\"Observation\": \"[#] Births.preterm\"] PretermBirth\n      where PretermBirth.effective.earliest() 42 weeks or less before TheEncounter.lastTimeOfDelivery()\n        and PretermBirth.status in { 'final', 'amended', 'corrected' }\n        and PretermBirth.value is not null\n      sort by effective.earliest()\n  ).value as Integer"
      }, {
        "url": "displaySequence",
        "valueInteger": 37
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "CMS334FHIRPCCesareanBirth"
      }, {
        "url": "name",
        "valueString": "lastHistoryTermBirth"
      }, {
        "url": "statement",
        "valueString": "define fluent function lastHistoryTermBirth(TheEncounter Encounter):\n  Last([\"Observation\": \"[#] Births.term\"] TermBirth\n      where TermBirth.effective.earliest() 42 weeks or less before TheEncounter.lastTimeOfDelivery()\n        and TermBirth.status in { 'final', 'amended', 'corrected' }\n        and TermBirth.value is not null\n      sort by effective.earliest()\n  ).value as Integer"
      }, {
        "url": "displaySequence",
        "valueInteger": 38
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "FHIRHelpers"
      }, {
        "url": "name",
        "valueString": "ToString"
      }, {
        "url": "statement",
        "valueString": "define function ToString(value uri): value.value"
      }, {
        "url": "displaySequence",
        "valueInteger": 39
      } ]
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
      "extension": [ {
        "url": "libraryName",
        "valueString": "FHIRHelpers"
      }, {
        "url": "name",
        "valueString": "ToCode"
      }, {
        "url": "statement",
        "valueString": "/*\n@description: Converts the given FHIR [Coding](https://hl7.org/fhir/datatypes.html#Coding) value to a CQL Code.\n*/\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }"
      }, {
        "url": "displaySequence",
        "valueInteger": 40
      } ]
    } ],
    "name": "EffectiveDataRequirements",
    "status": "active",
    "type": {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/library-type",
        "code": "module-definition"
      } ]
    },
    "relatedArtifact": [ {
      "type": "depends-on",
      "display": "Library SDE",
      "resource": "Library/SupplementalDataElements|3.5.000"
    }, {
      "type": "depends-on",
      "display": "Library PCMaternal",
      "resource": "Library/PCMaternal|5.19.000"
    }, {
      "type": "depends-on",
      "display": "Library CQMCommon",
      "resource": "Library/CQMCommon|2.2.000"
    }, {
      "type": "depends-on",
      "display": "Library FHIRHelpers",
      "resource": "Library/FHIRHelpers|4.4.000"
    }, {
      "type": "depends-on",
      "display": "Library QICoreCommon",
      "resource": "Library/QICoreCommon|2.1.000"
    }, {
      "type": "depends-on",
      "display": "Code system AdministrativeGender",
      "resource": "http://hl7.org/fhir/administrative-gender"
    }, {
      "type": "depends-on",
      "display": "Code system LOINC",
      "resource": "http://loinc.org"
    }, {
      "type": "depends-on",
      "display": "Value set Encounter Inpatient",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
    }, {
      "type": "depends-on",
      "display": "Value set Delivery Procedures",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.59"
    }, {
      "type": "depends-on",
      "display": "Value set Observation Services",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143"
    }, {
      "type": "depends-on",
      "display": "Value set ED Visit and OB Triage",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1029.369"
    }, {
      "type": "depends-on",
      "display": "Value set Estimated Gestational Age at Delivery",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.26"
    }, {
      "type": "depends-on",
      "display": "Value set 37 to 42 Plus Weeks Gestation",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.68"
    }, {
      "type": "depends-on",
      "display": "Value set Delivery of Singleton",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.99"
    }, {
      "type": "depends-on",
      "display": "Value set Cesarean Birth",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.282"
    }, {
      "type": "depends-on",
      "display": "Value set Payer Type",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"
    }, {
      "type": "depends-on",
      "display": "Value set Abnormal Presentation",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.105"
    }, {
      "type": "depends-on",
      "display": "Value set Placenta Accreta Spectrum Previa or Vasa Previa",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.37"
    }, {
      "type": "depends-on",
      "display": "Value set Genital Herpes",
      "resource": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1049"
    } ],
    "parameter": [ {
      "name": "Measurement Period",
      "use": "in",
      "min": 0,
      "max": "1",
      "type": "Period"
    }, {
      "name": "SDE Sex",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "Coding"
    }, {
      "name": "Numerator",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "Denominator",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "SDE Payer",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "Initial Population",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "SDE Ethnicity",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "Resource"
    }, {
      "name": "Denominator Exclusions",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    }, {
      "name": "SDE Race",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "Resource"
    }, {
      "name": "SDE Variable Calculated Gestational Age",
      "use": "out",
      "min": 0,
      "max": "*",
      "type": "Resource"
    } ],
    "dataRequirement": [ {
      "type": "Patient",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient" ],
      "mustSupport": [ "ethnicity", "race" ]
    }, {
      "type": "Encounter",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
      "mustSupport": [ "type", "period", "status", "status.value", "condition", "condition.reference", "condition.reference.value", "id", "id.value" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143"
      }, {
        "path": "status.value",
        "code": [ {
          "code": "finished"
        } ]
      } ]
    }, {
      "type": "Encounter",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
      "mustSupport": [ "type", "period", "status", "status.value", "condition", "condition.reference", "condition.reference.value", "id", "id.value" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1029.369"
      }, {
        "path": "status.value",
        "code": [ {
          "code": "finished"
        } ]
      } ],
      "dateFilter": [ {
        "path": "period",
        "valuePeriod": {
          "extension": [ {
            "url": "http://hl7.org/fhir/uv/crmi-analysisException",
            "valueString": "Error attempting to determine filter value: toFhirValue not implemented for Subtract"
          } ]
        }
      } ]
    }, {
      "type": "Encounter",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter" ],
      "mustSupport": [ "type", "status", "status.value", "period", "condition", "condition.reference", "condition.reference.value", "id", "id.value" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"
      }, {
        "path": "status.value",
        "code": [ {
          "code": "finished"
        } ]
      } ],
      "dateFilter": [ {
        "path": "period",
        "valuePeriod": {
          "extension": [ {
            "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",
            "valueExpression": {
              "language": "text/cql-identifier",
              "expression": "Measurement Period"
            }
          } ]
        }
      } ]
    }, {
      "type": "Procedure",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
      "mustSupport": [ "code", "status", "status.value", "performed" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.59"
      }, {
        "path": "status.value",
        "code": [ {
          "code": "completed"
        } ]
      } ]
    }, {
      "type": "Procedure",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure" ],
      "mustSupport": [ "code", "performed", "status", "status.value" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.282"
      }, {
        "path": "status.value",
        "code": [ {
          "code": "completed"
        } ]
      } ]
    }, {
      "type": "Observation",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" ],
      "mustSupport": [ "code", "value", "status", "status.value", "effective" ],
      "codeFilter": [ {
        "path": "code",
        "code": [ {
          "system": "http://loinc.org",
          "code": "93857-1",
          "display": "Date and time of obstetric delivery"
        } ]
      } ]
    }, {
      "type": "Observation",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" ],
      "mustSupport": [ "code", "value", "status", "status.value", "effective" ],
      "codeFilter": [ {
        "path": "code",
        "code": [ {
          "system": "http://loinc.org",
          "code": "11778-8",
          "display": "Delivery date Estimated"
        } ]
      } ]
    }, {
      "type": "Observation",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" ],
      "mustSupport": [ "code", "effective", "value", "status", "status.value" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.26"
      } ]
    }, {
      "type": "Observation",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" ],
      "mustSupport": [ "code", "value", "status", "status.value", "effective" ],
      "codeFilter": [ {
        "path": "code",
        "code": [ {
          "system": "http://loinc.org",
          "code": "11996-6",
          "display": "[#] Pregnancies"
        } ]
      } ]
    }, {
      "type": "Observation",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" ],
      "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
      "codeFilter": [ {
        "path": "code",
        "code": [ {
          "system": "http://loinc.org",
          "code": "11977-6",
          "display": "[#] Parity"
        } ]
      } ]
    }, {
      "type": "Observation",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" ],
      "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
      "codeFilter": [ {
        "path": "code",
        "code": [ {
          "system": "http://loinc.org",
          "code": "11637-6",
          "display": "[#] Births.preterm"
        } ]
      } ]
    }, {
      "type": "Observation",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" ],
      "mustSupport": [ "code", "effective", "status", "status.value", "value" ],
      "codeFilter": [ {
        "path": "code",
        "code": [ {
          "system": "http://loinc.org",
          "code": "11639-2",
          "display": "[#] Births.term"
        } ]
      } ]
    }, {
      "type": "Observation",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation" ],
      "mustSupport": [ "code", "effective", "status", "status.value" ],
      "codeFilter": [ {
        "path": "code",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.105"
      } ]
    }, {
      "type": "Condition",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition" ],
      "mustSupport": [ "id", "id.value", "code" ]
    }, {
      "type": "Coverage",
      "profile": [ "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-coverage" ],
      "mustSupport": [ "type", "period" ],
      "codeFilter": [ {
        "path": "type",
        "valueSet": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"
      } ]
    } ]
  } ],
  "extension": [ {
    "id": "supplementalDataGuidance",
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-supplementalDataGuidance",
    "extension": [ {
      "url": "guidance",
      "valueString": "For every patient evaluated by this measure also identify payer, race, ethnicity, sex and calculated gestational age\n "
    }, {
      "url": "usage",
      "valueCodeableConcept": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
          "code": "supplemental-data",
          "display": "Supplemental Data"
        } ],
        "text": "Supplemental Data Guidance"
      }
    } ]
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  }, {
    "id": "effective-data-requirements",
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-effectiveDataRequirements",
    "valueReference": {
      "reference": "#effective-data-requirements"
    }
  } ],
  "url": "https://madie.cms.gov/Measure/CMS334FHIRPCCesareanBirth",
  "identifier": [ {
    "use": "usual",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "short-name",
        "display": "Short Name"
      } ]
    },
    "system": "https://madie.cms.gov/measure/shortName",
    "value": "CMS334FHIR"
  }, {
    "use": "official",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "version-independent",
        "display": "Version Independent"
      } ]
    },
    "system": "urn:ietf:rfc:3986",
    "value": "urn:uuid:e5be4439-ce75-43cc-aabc-856aec66e841"
  }, {
    "use": "official",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "version-specific",
        "display": "Version Specific"
      } ]
    },
    "system": "urn:ietf:rfc:3986",
    "value": "urn:uuid:8a060a78-80a8-4b1a-8fee-6ba50d5d62e4"
  }, {
    "use": "official",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "endorser",
        "display": "Endorser"
      } ]
    },
    "system": "https://madie.cms.gov/measure/cbeId",
    "value": "0471e",
    "assigner": {
      "display": "CMS Consensus Based Entity"
    }
  }, {
    "use": "official",
    "type": {
      "coding": [ {
        "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
        "code": "publisher",
        "display": "Publisher"
      } ]
    },
    "system": "https://madie.cms.gov/measure/cmsId",
    "value": "334FHIR",
    "assigner": {
      "display": "CMS"
    }
  } ],
  "version": "0.3.002",
  "name": "CMS334FHIRPCCesareanBirth",
  "title": "Cesarean BirthFHIR",
  "status": "active",
  "experimental": false,
  "date": "2025-01-14T15:54:07+00:00",
  "publisher": "The Joint Commission",
  "contact": [ {
    "telecom": [ {
      "system": "url",
      "value": "https://www.jointcommission.org/"
    } ]
  } ],
  "description": "Nulliparous patients with a term, singleton baby in a vertex position delivered by cesarean birth",
  "purpose": "UNKNOWN",
  "usage": "Vertex position is modeled implicitly, as the measure excludes deliveries with abnormal presentations.\n\nPatients who do not receive prenatal care and have no documented gestational age or estimated due date are implicitly excluded from the measure, as gestational age is required to meet denominator criteria. \n\nThis measure allows for 3 approaches to determine gestational age (GA) in the following order of precedence:\n\n1.  The GA is calculated using the American College of Obstetricians and Gynecologists ReVITALize guidelines.*\n2.  When the calculated GA is not available, the GA is obtained from a discrete field in the electronic health record. The intent is to capture the last estimated GA in the interval starting 24 hours or less prior to delivery and ending before midnight on the same day of delivery.\n3.  The GA is based on ICD10 or SNOMED codes indicative of weeks gestation.  This option is only used when results from items #1 and #2 (see above) are not available.\n \n*ACOG ReVITALize Guidelines for Calculating Gestational Age (ACOG, 2014):      \n     \n               Gestational Age = (280-(EDD minus Reference Date))/7\n\n--Estimated Due Date (EDD):  The best obstetrical Estimated Due Date is determined by last menstrual period if confirmed by early ultrasound or no ultrasound performed, or early ultrasound if no known last menstrual period or the ultrasound is not consistent with last menstrual period, or known date of fertilization (e.g., assisted reproductive technology) \n--Reference Date is the date on which you are trying to determine gestational age. For purposes of this eCQM, Reference Date would be the Date of Delivery.   \n\nNote however the calculation may yield a non-whole number, and gestational age should be rounded off to the nearest completed week. For example, an infant born on the 5th day of the 36th week (35 weeks and 5/7 days) is at a gestational age of 35 weeks, not 36 weeks.\n\nThe timing relationship of relevantDatetime 42 weeks or less before TimeOfDelivery is applied to the data elements of parity, gravida, preterm/term live births for which prenatal records may include relevant information. \n\nNote: The eCQM and chart-based measure slightly digress in the denominator and denominator exclusion logic. The chart-based measure excludes single stillbirth and patients with multiple gestations from the denominator. These concepts are mutually exclusive of the denominator requirement of live singleton newborn and therefore the logic does not address single stillbirth nor multiple gestation.\n\nParity, preterm and term live births may be updated by the electronic health record software or by clinicians during a delivery encounter. To capture the pre-delivery value, organizations may need to create a rule or calculation to capture the number prior to the delivery start time.\n\n\"Gravida\", \"PretermBirth\", \"TermBirth\" and \"Parity\" results should be submitted via QRDA I as integer, and not as number or quantity.\n\nDefinitions:  \nParity: The number of pregnancies reaching 20 weeks gestation regardless of the number of fetuses or outcomes\nGravidity: The number of pregnancies, current and past, regardless of the pregnancy outcome  \nPreterm Birth: The number of births  >= 20 weeks and < 37 weeks gestation, regardless of outcome \nTerm Birth: The number of births >= 37 weeks gestation, regardless of outcome\nNulliparous: Parity = 0 or Gravidity = 1 or Preterm & Term Births both = 0.\n\nNote regarding Improvement Notation:  Decreased score indicates improvement - The Joint Commission does not want to encourage inappropriately low Cesarean rates that may be unsafe to patients. Acceptable PC-02 rates are 30% or lower, however there is not an established threshold for what rate may be too low. PC-06 serves as a balancing measure for PC-02 to guard against any unanticipated or unintended consequences and to identify unforeseen complications that might arise as a result of quality improvement activities and efforts for this measure. In order to identify areas for improvement, hospitals may want to review results based on specific ICD-10 codes or patient populations. Data could then be analyzed further determine specific patterns or trends to help reduce cesarean births.\n\nThis eCQM is an episode-based measure.  An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period.\n\nThis FHIR-based measure has been derived from the QDM-based measure: CMS334v7. Please refer to the HL7 QI-Core Implementation Guide (https://hl7.org/fhir/us/qicore/STU4.1.1/) for more information on QI-Core and mapping recommendations from QDM to QI-Core 4.1.1 (https://hl7.org/fhir/us/qicore/STU4.1.1/qdm-to-qicore.html).",
  "copyright": "Measure specifications are in the Public Domain.\n\nLOINC(R) copyright 2004-2024 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2024 International Health Terminology Standards Development Organisation. ICD-10 copyright 2024 World Health Organization. All Rights Reserved.",
  "effectivePeriod": {
    "start": "2026-01-01",
    "end": "2026-12-31"
  },
  "author": [ {
    "name": "The Joint Commission",
    "telecom": [ {
      "system": "url",
      "value": "https://www.jointcommission.org/"
    } ]
  } ],
  "library": [ "https://madie.cms.gov/Library/CMS334FHIRPCCesareanBirth" ],
  "disclaimer": "These performance measures are not clinical guidelines, do not establish a standard of medical care, and have not been tested for all potential applications. The measures and specifications are provided without warranty.",
  "rationale": "The removal of any pressure to not perform a cesarean birth has led to a skyrocketing of hospital, state and national cesarean birth (CB) rates. Some hospitals’ CB rates were over 50%. Hospitals with CB rates at 15-20% have infant outcomes that are just as good and better maternal outcomes (Symum & Zayas-Castro, 2023). There is no data that higher rates improve any outcomes, yet the CB rates continue to rise (Bailit, Garrett, Miller, McMahon, & Cefalo, 2002; Main, Bloomfield, & Hunt, 2004). This measure seeks to focus attention on the most variable portion of the CB epidemic, the term labor CB in nulliparous patients. This population segment accounts for the large majority of the variable portion of the CB rate and is the area most affected by subjectivity.\n\nAs compared to other CB measures, what is different about Nulliparous, Term, Singleton, Vertex (NTSV) CB rate is that there are clear cut quality improvement activities that can be done to address the differences. Main et al. (2012) found that over 60% of the variation among hospitals can be attributed to first birth labor induction rates and first birth early labor admission rates (Main et al., 2006). The results showed if labor was forced when the cervix was not ready the outcomes were poorer. Rosenstein et al. (2021) also showed that labor and delivery guidelines can make a difference in labor outcomes. Many authors have shown that physician factors, rather than patient characteristics or obstetric diagnoses are the major drivers for the difference in rates within a hospital (Berkowitz, Fiarman, Mojica, Bauman, & de Regt, 1989; Goyert, Bottoms, Treadwell, & Nehra, 1989; Luthy, Malmgren, Zingheim, & Leininger, 2003; Symum & Zayas-Castro, 2023; Main et al., 2006). The dramatic variation in cesarean rates seen in all populations studied is striking. Cesarean rates varied tenfold in US hospitals nationwide across hospitals (Agency for Healthcare Research and Quality [AHRQ], 2002), from 7.1% to 69.9%, and there was a 15-fold variation among low-risk women, from 2.4% to 36.5% (Kozhimannil, Law, & Virnig, 2013).\n\nA reduction in the number of NTSV patients delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs (Main et al., 2019). Successful quality improvement efforts incorporate audit and feedback strategies combined with provider and nurse education, guidelines and peer review.\n\nThe measure will assist health care organizations to track NTSV patients delivering by cesarean birth to reduce the occurrence. Nulliparous patients have 4-6 times the cesarean birth rate than multiparous patients thus the NTSV population is the largest driver of primary cesarean birth rate (Sakala, Belanoff, Declercq, 2020). NTSV has a large variation among facilities, thus identifying an important population on which to focus quality improvement efforts.\n\nIn accordance with the American College of Obstetricians and Gynecologists (ACOG) recommendations (2020), cesarean delivery is indicated for patients with active genital lesions of genital herpes or prodromal symptoms (i.e., vulvar pain or burning at delivery) that may indicate viral shedding. Therefore, the measure will exclude encounters with a diagnosis of active genital herpes.\n\nIn addition, the accepted approach to treat placenta accreta spectrum, or the range of pathologic adherence of the placenta that includes placenta increta, placenta percreta, and placenta accreta, as well as placenta previa, is cesarean delivery (ACOG & Society for Maternal-Fetal Medicine (SMFM), 2018). Vasa previa is an indication for cesarean delivery (SMFM Publications Committee, Sinkey, Odibo, & Dashe, 2015). Accordingly, placenta previa, vasa previa, and placenta accreta spectrum are all qualifying conditions to also be excluded from the measure. \n\nUltimately, a reduction in primary cesarean births will reduce the number of patients having repeat cesarean births (almost 90% of mothers who have a primary cesarean birth will have subsequent cesarean birth (Centers for Disease Control and Prevention, 2020)). Thus, improvement in the rates of cesarean delivery for the first birth will reduce the morbidity of all future births and avoid all the controversies with trial of labor after cesarean/elective repeat cesarean deliveries.",
  "clinicalRecommendationStatement": "The (ACOG) report, Evaluation of Cesarean Delivery (2000), recognizes the importance of the Nulliparous, Term, Singleton, Vertex (NTSV) population as the optimal focus for measurement and quality improvement action. A reduction in the number of nulliparous patients with live term singleton newborns in vertex position delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs.",
  "guidance": "Vertex position is modeled implicitly, as the measure excludes deliveries with abnormal presentations.\n\nPatients who do not receive prenatal care and have no documented gestational age or estimated due date are implicitly excluded from the measure, as gestational age is required to meet denominator criteria. \n\nThis measure allows for 3 approaches to determine gestational age (GA) in the following order of precedence:\n\n1.  The GA is calculated using the American College of Obstetricians and Gynecologists ReVITALize guidelines.*\n2.  When the calculated GA is not available, the GA is obtained from a discrete field in the electronic health record. The intent is to capture the last estimated GA in the interval starting 24 hours or less prior to delivery and ending before midnight on the same day of delivery.\n3.  The GA is based on ICD10 or SNOMED codes indicative of weeks gestation.  This option is only used when results from items #1 and #2 (see above) are not available.\n \n*ACOG ReVITALize Guidelines for Calculating Gestational Age (ACOG, 2014):      \n     \n               Gestational Age = (280-(EDD minus Reference Date))/7\n\n--Estimated Due Date (EDD):  The best obstetrical Estimated Due Date is determined by last menstrual period if confirmed by early ultrasound or no ultrasound performed, or early ultrasound if no known last menstrual period or the ultrasound is not consistent with last menstrual period, or known date of fertilization (e.g., assisted reproductive technology) \n--Reference Date is the date on which you are trying to determine gestational age. For purposes of this eCQM, Reference Date would be the Date of Delivery.   \n\nNote however the calculation may yield a non-whole number, and gestational age should be rounded off to the nearest completed week. For example, an infant born on the 5th day of the 36th week (35 weeks and 5/7 days) is at a gestational age of 35 weeks, not 36 weeks.\n\nThe timing relationship of relevantDatetime 42 weeks or less before TimeOfDelivery is applied to the data elements of parity, gravida, preterm/term live births for which prenatal records may include relevant information. \n\nNote: The eCQM and chart-based measure slightly digress in the denominator and denominator exclusion logic. The chart-based measure excludes single stillbirth and patients with multiple gestations from the denominator. These concepts are mutually exclusive of the denominator requirement of live singleton newborn and therefore the logic does not address single stillbirth nor multiple gestation.\n\nParity, preterm and term live births may be updated by the electronic health record software or by clinicians during a delivery encounter. To capture the pre-delivery value, organizations may need to create a rule or calculation to capture the number prior to the delivery start time.\n\n\"Gravida\", \"PretermBirth\", \"TermBirth\" and \"Parity\" results should be submitted via QRDA I as integer, and not as number or quantity.\n\nDefinitions:  \nParity: The number of pregnancies reaching 20 weeks gestation regardless of the number of fetuses or outcomes\nGravidity: The number of pregnancies, current and past, regardless of the pregnancy outcome  \nPreterm Birth: The number of births  >= 20 weeks and < 37 weeks gestation, regardless of outcome \nTerm Birth: The number of births >= 37 weeks gestation, regardless of outcome\nNulliparous: Parity = 0 or Gravidity = 1 or Preterm & Term Births both = 0.\n\nNote regarding Improvement Notation:  Decreased score indicates improvement - The Joint Commission does not want to encourage inappropriately low Cesarean rates that may be unsafe to patients. Acceptable PC-02 rates are 30% or lower, however there is not an established threshold for what rate may be too low. PC-06 serves as a balancing measure for PC-02 to guard against any unanticipated or unintended consequences and to identify unforeseen complications that might arise as a result of quality improvement activities and efforts for this measure. In order to identify areas for improvement, hospitals may want to review results based on specific ICD-10 codes or patient populations. Data could then be analyzed further determine specific patterns or trends to help reduce cesarean births.\n\nThis eCQM is an episode-based measure.  An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period.\n\nThis FHIR-based measure has been derived from the QDM-based measure: CMS334v7. Please refer to the HL7 QI-Core Implementation Guide (https://hl7.org/fhir/us/qicore/STU4.1.1/) for more information on QI-Core and mapping recommendations from QDM to QI-Core 4.1.1 (https://hl7.org/fhir/us/qicore/STU4.1.1/qdm-to-qicore.html).",
  "group": [ {
    "id": "675af05f670f1c0879cef895",
    "extension": [ {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-scoring",
      "valueCodeableConcept": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-scoring",
          "code": "proportion",
          "display": "Proportion"
        } ]
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
      "valueCode": "Encounter"
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-type",
      "valueCodeableConcept": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-type",
          "code": "outcome",
          "display": "Outcome"
        } ]
      }
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-rateAggregation",
      "valueCode": "None"
    }, {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-improvementNotation",
      "valueCodeableConcept": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-improvement-notation",
          "code": "decrease",
          "display": "Decreased score indicates improvement"
        } ]
      }
    } ],
    "population": [ {
      "id": "60C0D22D-2A87-4097-A44E-B3FDDCFB00AA",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "initial-population",
          "display": "Initial Population"
        } ]
      },
      "description": "Inpatient hospitalizations for patients age greater than or equal to 8 years and less than 65 admitted to the hospital for inpatient acute care who undergo a delivery procedure with a discharge date during the measurement period",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Initial Population"
      }
    }, {
      "id": "800E0BC8-6111-4D45-B4AD-4C6BBB6FC3E6",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "denominator",
          "display": "Denominator"
        } ]
      },
      "description": "Inpatient hospitalizations for nulliparous patients who delivered a live term singleton newborn greater than or equal to 37 weeks' gestation\n\nSee Guidance and Definition Sections for more details.",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Denominator"
      }
    }, {
      "id": "2ED5F574-6700-4E3C-9398-EFEC86809B32",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "denominator-exclusion",
          "display": "Denominator Exclusion"
        } ]
      },
      "description": "Inpatient hospitalizations for patients with any of the following conditions during the encounter:\n-abnormal presentation\n-genital herpes\n -placenta previa\n-vasa previa\n- placenta accreta\n-placenta increta\n-placenta percreta",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Denominator Exclusions"
      }
    }, {
      "id": "44114978-DA07-46CB-A1DE-8E49414CAF7D",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "numerator",
          "display": "Numerator"
        } ]
      },
      "description": "Inpatient hospitalizations for patients who deliver by cesarean section",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Numerator"
      }
    } ]
  } ],
  "supplementalData": [ {
    "id": "sde-ethnicity",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "description": "SDE Ethnicity",
    "criteria": {
      "language": "text/cql-identifier",
      "expression": "SDE Ethnicity"
    }
  }, {
    "id": "sde-race",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "description": "SDE Race",
    "criteria": {
      "language": "text/cql-identifier",
      "expression": "SDE Race"
    }
  }, {
    "id": "sde-sex",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "description": "SDE Sex",
    "criteria": {
      "language": "text/cql-identifier",
      "expression": "SDE Sex"
    }
  }, {
    "id": "sde-payer",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "description": "SDE Payer",
    "criteria": {
      "language": "text/cql-identifier",
      "expression": "SDE Payer"
    }
  }, {
    "id": "sde-variable-calculated-gestational-age",
    "usage": [ {
      "coding": [ {
        "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "description": "SDE Variable Calculated Gestational Age",
    "criteria": {
      "language": "text/cql-identifier",
      "expression": "SDE Variable Calculated Gestational Age"
    }
  } ]
}